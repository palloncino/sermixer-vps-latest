"use strict";(self.webpackChunkquotation_app_02=self.webpackChunkquotation_app_02||[]).push([[290],{4341:(e,t,r)=>{r.d(t,{A:()=>x});r(5043);var s=r(5795),a=r(3193),i=r(8356),n=r(9285),l=r(1449),o=r(6446),c=r(5865),d=r(9720),h=r(4117),m=r(579);const x=e=>{let{filters:t,filtersConfig:r,onFilterChange:x}=e;const{t:u}=(0,h.Bd)(),p=(e,t)=>{x(e,t)},A=e=>{var r;switch(e.type){case"text":return(0,m.jsx)(s.A,{fullWidth:!0,label:u(e.label),value:t[e.id]||"",onChange:t=>p(e.id,t.target.value)});case"select":return(0,m.jsxs)(a.A,{fullWidth:!0,children:[(0,m.jsx)(i.A,{children:u(e.label)}),(0,m.jsx)(n.A,{value:t[e.id]||"",onChange:t=>p(e.id,t.target.value),children:null===(r=e.options)||void 0===r?void 0:r.map((e=>(0,m.jsx)(l.A,{value:e.value,children:u(e.label)},e.value)))})]});case"range":return(0,m.jsxs)(o.A,{children:[(0,m.jsx)(c.A,{gutterBottom:!0,children:u(e.label)}),(0,m.jsx)(d.Ay,{value:t[e.id]||e.defaultValue,onChange:(t,r)=>p(e.id,r),valueLabelDisplay:"auto",min:e.min,max:e.max,step:e.step},e.id)]});default:return null}};return(0,m.jsx)(o.A,{sx:{display:"grid",gridTemplateColumns:`repeat(${r.length}, 1fr)`,gap:2,mb:2},children:r.map((e=>(0,m.jsx)(o.A,{children:A(e)},e.id)))})}},8751:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(6446),a=r(4194),i=r(8911),n=r(579);const l=function(e){let{message:t,type:r}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.A,{py:2,children:(0,n.jsx)(i.A,{sx:{width:"100%"},spacing:2,children:(0,n.jsx)(a.A,{severity:r,children:t})})})})}},2673:(e,t,r)=>{r.d(t,{A:()=>a});r(5043);var s=r(579);const a=e=>{let{text:t,search:r}=e;if(!t)return null;if(!r)return(0,s.jsx)(s.Fragment,{children:t});const a=t.split(new RegExp(`(${r})`,"gi"));return(0,s.jsx)("span",{children:a.map(((e,t)=>e.toLowerCase()===r.toLowerCase()?(0,s.jsx)("mark",{children:e},t):e))})}},909:(e,t,r)=>{r.r(t),r.d(t,{default:()=>_});var s=r(9252),a=r(8903),i=r(5865),n=r(1906),l=r(5043),o=r(4117),c=r(5475),d=r(927),h=r(4341),m=r(8751),x=r(7206),u=r(3471),p=r(3159),A=r(9650),g=r(3336),j=r(1806),f=r(4882),v=r(8076),y=r(2420),C=r(8093),b=r(3460),w=r(7392),L=r(6446),N=r(3691),S=r(3216),$=r(690),D=r(1748),M=r(3140),R=r(8434),U=r(2673),I=r(579);const k=e=>{let{users:t,handleDeleteUsers:r,search:s}=e;const{t:a}=(0,o.Bd)(),{user:i}=(0,D.A)(),[n,d]=(0,l.useState)("asc"),[h,m]=(0,l.useState)("lastName"),x=(0,S.Zp)(),[k,T]=(0,l.useState)(1),q=[...t].sort(((e,t)=>{const r=e[h],s=t[h];return"string"===typeof r&&"string"===typeof s?"asc"===n?r.localeCompare(s):s.localeCompare(r):"number"===typeof r&&"number"===typeof s?"asc"===n?r-s:s-r:0})),_=q.slice(5*(k-1),5*k);return(0,I.jsxs)("div",{id:"UsersList",className:"users-list",children:[(0,I.jsx)(A.A,{component:g.A,children:(0,I.jsxs)(j.A,{"aria-label":"simple table",children:[(0,I.jsx)(f.A,{children:(0,I.jsxs)(v.A,{children:[(0,I.jsx)(y.A,{children:(0,I.jsx)(C.A,{active:"id"===h,direction:"id"===h?n:"asc",onClick:()=>{return d(h===(e="id")&&"asc"===n?"desc":"asc"),void m(e);var e},children:a("ID")})}),(0,I.jsx)(y.A,{align:"right",children:a("Name")}),(0,I.jsx)(y.A,{align:"right",children:a("Company")}),(0,I.jsx)(y.A,{align:"right",children:a("Role")}),(0,I.jsx)(y.A,{align:"right",children:a("Email")}),(0,I.jsx)(y.A,{align:"right",children:a("Registered")}),(0,I.jsx)(y.A,{align:"right",children:a("Actions")})]})}),(0,I.jsx)(b.A,{children:_.map((e=>(0,I.jsxs)(v.A,{sx:{"&:last-child td, &:last-child th":{border:0},cursor:"pointer"},hover:!0,onClick:()=>{return t=e.id,void x(`/user/${t}`);var t},children:[(0,I.jsx)(y.A,{component:"th",scope:"row",children:e.id}),(0,I.jsx)(y.A,{align:"right",children:(0,I.jsx)(U.A,{text:`${e.firstName} ${e.lastName}`,search:s})}),(0,I.jsx)(y.A,{align:"right",children:(0,I.jsx)(U.A,{text:e.companyName,search:s})}),(0,I.jsx)(y.A,{align:"right",children:e.role}),(0,I.jsx)(y.A,{align:"right",children:(0,I.jsx)(U.A,{text:e.email,search:s})}),(0,I.jsx)(y.A,{align:"right",children:(0,M.M)(e.createdAt)}),(0,I.jsxs)(y.A,{align:"right",children:[(0,I.jsx)(w.A,{disabled:!(0,R.q)(i),"aria-label":"edit",component:c.N_,to:(0,$.bw)(e.id).editUser,onClick:e=>e.stopPropagation(),children:(0,I.jsx)(p.A,{})}),(0,I.jsx)(w.A,{disabled:!(0,R.q)(i),"aria-label":"delete",onClick:t=>{t.stopPropagation(),r(e.id)},children:(0,I.jsx)(u.A,{})})]})]},e.id)))})]})}),(0,I.jsx)(L.A,{sx:{padding:2},children:(0,I.jsx)(N.A,{count:Math.ceil(t.length/5),page:k,onChange:(e,t)=>{T(t)}})})]})};var T=r(3505);const q=(0,d.Ay)(s.A)`
  margin-top: 32px;
  margin-bottom: 32px;
`,_=()=>{const{t:e}=(0,o.Bd)(),{user:t,users:r,deleteUsers:s,getUsers:d,loadingUsers:u}=(0,D.A)(),[p,A]=(0,l.useState)({search:"",role:"all"}),[g,j]=(0,l.useState)(""),[f,v]=(0,l.useState)("asc"),[y,C]=(0,l.useState)("lastName");(0,l.useEffect)((()=>{d()}),[d]);const b=(0,l.useMemo)((()=>u||0===r.length?[]:r.filter((e=>{const t=!p.search||e.firstName&&e.firstName.toLowerCase().includes(p.search.toLowerCase())||e.lastName&&e.lastName.toLowerCase().includes(p.search.toLowerCase())||e.email&&e.email.toLowerCase().includes(p.search.toLowerCase())||e.companyName&&e.companyName.toLowerCase().includes(p.search.toLowerCase()),r="all"===p.role||e.role===p.role;return t&&r})).sort(((e,t)=>{if("name"===y){const r=`${e.firstName} ${e.lastName}`,s=`${t.firstName} ${t.lastName}`;return"asc"===f?r.localeCompare(s):s.localeCompare(r)}return"email"===y?"asc"===f?e.email.localeCompare(t.email):t.email.localeCompare(e.email):0}))),[u,r,p,f,y]);return(0,I.jsx)(T.Rl,{children:(0,I.jsxs)(q,{maxWidth:"lg",children:[g&&(0,I.jsx)(m.A,{message:g,type:"success"}),u?(0,I.jsx)(x.A,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(a.Ay,{container:!0,spacing:3,justifyContent:"space-between",alignItems:"center",children:[(0,I.jsxs)(a.Ay,{item:!0,xs:12,md:8,children:[(0,I.jsx)(i.A,{variant:"h4",children:e("UsersListPageHeadTitle")}),(0,I.jsx)(i.A,{variant:"subtitle1",children:e("UsersListPageHeadDesc")})]}),(0,I.jsx)(a.Ay,{item:!0,xs:12,md:4,display:"flex",justifyContent:"flex-end",children:(0,I.jsx)(n.A,{disabled:!(0,R.q)(t),variant:"contained",color:"primary",component:c.N_,to:(0,$.bw)().profile,children:e("MyUserProfile")})})]}),(0,I.jsxs)(a.Ay,{container:!0,spacing:3,sx:{mt:2},children:[(0,I.jsx)(a.Ay,{item:!0,xs:12,children:(0,I.jsx)(h.A,{filters:p,filtersConfig:(0,$.sQ)(),onFilterChange:(e,t)=>{A((r=>({...r,[e]:t})))}})}),(0,I.jsx)(a.Ay,{item:!0,xs:12,children:(0,I.jsx)(k,{users:b,handleDeleteUsers:async t=>{try{if(window.confirm(e("ConfirmDeletionUserAlertMessage"))){const e=await s([t]),{message:r}=e;j(r),d()}}catch(r){console.error(r)}},search:p.search,onRequestSort:e=>{v(y===e&&"asc"===f?"desc":"asc"),C(e)},order:f,orderBy:y})})]})]})]})})}},3159:(e,t,r)=>{var s=r(4994);t.A=void 0;var a=s(r(39)),i=r(579);t.A=(0,a.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},8093:(e,t,r)=>{r.d(t,{A:()=>C});var s=r(8587),a=r(8168),i=r(8606),n=r(8387),l=r(5043),o=r(6236),c=r(9662),d=r(579);const h=(0,c.A)((0,d.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");var m=r(4535),x=r(2876),u=r(6803),p=r(7056),A=r(2400);function g(e){return(0,A.Ay)("MuiTableSortLabel",e)}const j=(0,p.A)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),f=["active","children","className","direction","hideSortIcon","IconComponent"],v=(0,m.Ay)(o.A,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.active&&t.active]}})((e=>{let{theme:t}=e;return{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":{color:(t.vars||t).palette.text.secondary,[`& .${j.icon}`]:{opacity:.5}},[`&.${j.active}`]:{color:(t.vars||t).palette.text.primary,[`& .${j.icon}`]:{opacity:1,color:(t.vars||t).palette.text.secondary}}}})),y=(0,m.Ay)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,t[`iconDirection${(0,u.A)(r.direction)}`]]}})((e=>{let{theme:t,ownerState:r}=e;return(0,a.A)({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none"},"desc"===r.direction&&{transform:"rotate(0deg)"},"asc"===r.direction&&{transform:"rotate(180deg)"})})),C=l.forwardRef((function(e,t){const r=(0,x.A)({props:e,name:"MuiTableSortLabel"}),{active:l=!1,children:o,className:c,direction:m="asc",hideSortIcon:p=!1,IconComponent:A=h}=r,j=(0,s.A)(r,f),C=(0,a.A)({},r,{active:l,direction:m,hideSortIcon:p,IconComponent:A}),b=(e=>{const{classes:t,direction:r,active:s}=e,a={root:["root",s&&"active"],icon:["icon",`iconDirection${(0,u.A)(r)}`]};return(0,i.A)(a,g,t)})(C);return(0,d.jsxs)(v,(0,a.A)({className:(0,n.A)(b.root,c),component:"span",disableRipple:!0,ownerState:C,ref:t},j,{children:[o,p&&!l?null:(0,d.jsx)(y,{as:A,className:(0,n.A)(b.icon),ownerState:C})]}))}))}}]);
//# sourceMappingURL=290.29667075.chunk.js.map