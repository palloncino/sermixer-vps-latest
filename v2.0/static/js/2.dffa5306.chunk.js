"use strict";(self.webpackChunkquotation_app_02=self.webpackChunkquotation_app_02||[]).push([[2],{4341:(e,t,r)=>{r.d(t,{A:()=>p});r(5043);var s=r(5795),n=r(3193),i=r(8356),a=r(9285),o=r(1449),l=r(6446),c=r(5865),d=r(9720),u=r(4117),m=r(579);const p=e=>{let{filters:t,filtersConfig:r,onFilterChange:p}=e;const{t:h}=(0,u.Bd)(),x=(e,t)=>{p(e,t)},A=e=>{var r;switch(e.type){case"text":return(0,m.jsx)(s.A,{fullWidth:!0,label:h(e.label),value:t[e.id]||"",onChange:t=>x(e.id,t.target.value)});case"select":return(0,m.jsxs)(n.A,{fullWidth:!0,children:[(0,m.jsx)(i.A,{children:h(e.label)}),(0,m.jsx)(a.A,{value:t[e.id]||"",onChange:t=>x(e.id,t.target.value),children:null===(r=e.options)||void 0===r?void 0:r.map((e=>(0,m.jsx)(o.A,{value:e.value,children:h(e.label)},e.value)))})]});case"range":return(0,m.jsxs)(l.A,{children:[(0,m.jsx)(c.A,{gutterBottom:!0,children:h(e.label)}),(0,m.jsx)(d.Ay,{value:t[e.id]||e.defaultValue,onChange:(t,r)=>x(e.id,r),valueLabelDisplay:"auto",min:e.min,max:e.max,step:e.step},e.id)]});default:return null}};return(0,m.jsx)(l.A,{sx:{display:"grid",gridTemplateColumns:`repeat(${r.length}, 1fr)`,gap:2,mb:2},children:r.map((e=>(0,m.jsx)(l.A,{children:A(e)},e.id)))})}},8751:(e,t,r)=>{r.d(t,{A:()=>o});var s=r(6446),n=r(4194),i=r(8911),a=r(579);const o=function(e){let{message:t,type:r}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.A,{py:2,children:(0,a.jsx)(i.A,{sx:{width:"100%"},spacing:2,children:(0,a.jsx)(n.A,{severity:r,children:t})})})})}},2673:(e,t,r)=>{r.d(t,{A:()=>n});r(5043);var s=r(579);const n=e=>{let{text:t,search:r}=e;if(!t)return null;if(!r)return(0,s.jsx)(s.Fragment,{children:t});const n=t.split(new RegExp(`(${r})`,"gi"));return(0,s.jsx)("span",{children:n.map(((e,t)=>e.toLowerCase()===r.toLowerCase()?(0,s.jsx)("mark",{children:e},t):e))})}},1498:(e,t,r)=>{r.r(t),r.d(t,{default:()=>F});var s=r(9252),n=r(8903),i=r(5865),a=r(1906),o=r(5043),l=r(4117),c=r(5475),d=r(927),u=r(3336),m=r(9650),p=r(1806),h=r(4882),x=r(8076),A=r(2420),v=r(8093),j=r(3460),f=r(2167),g=r(6446),y=r(7392),w=r(1159),C=r(3216),b=r(690),S=r(3471),N=r(3159),L=r(7260),k=r(2673),z=r(579);const M=e=>{let{clients:t,handleDeleteClients:r,onSort:s,order:n,orderBy:i,searchTerm:a}=e;const c=(0,C.Zp)(),{t:d}=(0,l.Bd)(),[M,R]=(0,o.useState)(0),[P,T]=(0,o.useState)(20);return(0,z.jsxs)(u.A,{elevation:0,sx:{backgroundColor:"white",borderRadius:2,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,z.jsx)(m.A,{children:(0,z.jsxs)(p.A,{size:"small",children:[(0,z.jsx)(h.A,{children:(0,z.jsxs)(x.A,{children:[(0,z.jsx)(A.A,{children:(0,z.jsx)(v.A,{active:"companyName"===i,direction:"companyName"===i?n:"asc",onClick:($="companyName",e=>{s($)}),sx:{fontWeight:"bold",fontSize:"0.875rem"},children:d("CompanyName")})}),(0,z.jsx)(A.A,{children:d("Email")}),(0,z.jsx)(A.A,{children:d("VATCode")}),(0,z.jsx)(A.A,{children:d("Address")}),(0,z.jsx)(A.A,{children:d("Actions")})]})}),(0,z.jsx)(j.A,{children:t.slice(M*P,M*P+P).map((e=>{var t,s,n,i,o,l;return(0,z.jsxs)(x.A,{hover:!0,children:[(0,z.jsx)(A.A,{children:(0,z.jsx)(f.A,{title:e.companyName,children:(0,z.jsx)(g.A,{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"150px"},children:(0,z.jsx)(k.A,{text:e.companyName,search:a})})})}),(0,z.jsx)(A.A,{children:(0,z.jsx)(f.A,{title:e.email,children:(0,z.jsx)(g.A,{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"150px"},children:(0,z.jsx)(k.A,{text:e.email,search:a})})})}),(0,z.jsx)(A.A,{children:(0,z.jsx)(f.A,{title:e.vatNumber,children:(0,z.jsx)(g.A,{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100px"},children:(0,z.jsx)(k.A,{text:e.vatNumber,search:a})})})}),(0,z.jsx)(A.A,{children:(0,z.jsx)(f.A,{title:`${null===(t=e.address)||void 0===t?void 0:t.street}, ${null===(s=e.address)||void 0===s?void 0:s.city}, ${null===(n=e.address)||void 0===n?void 0:n.zipCode}`,children:(0,z.jsx)(g.A,{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"200px"},children:(0,z.jsx)(k.A,{text:`${null===(i=e.address)||void 0===i?void 0:i.street}, ${null===(o=e.address)||void 0===o?void 0:o.city}, ${null===(l=e.address)||void 0===l?void 0:l.zipCode}`,search:a})})})}),(0,z.jsxs)(A.A,{align:"center",children:[(0,z.jsx)(y.A,{onClick:()=>c((0,b.bw)(e.id).clientPage),"aria-label":d("View"),size:"small",children:(0,z.jsx)(L.A,{fontSize:"small"})}),(0,z.jsx)(y.A,{onClick:()=>c((0,b.bw)(e.id).editClient),"aria-label":d("Edit"),size:"small",children:(0,z.jsx)(N.A,{fontSize:"small"})}),(0,z.jsx)(y.A,{onClick:()=>r([e.id]),"aria-label":d("Delete"),size:"small",children:(0,z.jsx)(S.A,{fontSize:"small"})})]})]},e.id)}))})]})}),(0,z.jsx)(w.A,{component:"div",count:t.length,page:M,onPageChange:(e,t)=>{R(t)},rowsPerPage:P,onRowsPerPageChange:e=>{T(parseInt(e.target.value,10)),R(0)},rowsPerPageOptions:[10,20,50],labelRowsPerPage:d("Rows per page"),sx:{borderTop:"1px solid rgba(224, 224, 224, 0.5)",mt:1}})]});var $};var R=r(4341),P=r(8751),T=r(7206),$=r(1748),D=r(8434),W=r(3505);const I=(0,d.Ay)(s.A)`
  margin-top: 32px;
  margin-bottom: 32px;
`,F=()=>{const{t:e}=(0,l.Bd)(),{user:t,clients:r,deleteClients:s,getClients:d,loadingClients:u}=(0,$.A)(),[m,p]=(0,o.useState)({search:"",address:""}),[h,x]=(0,o.useState)(""),[A,v]=(0,o.useState)("asc"),[j,f]=(0,o.useState)("companyName");(0,o.useEffect)((()=>{d()}),[d]);const g=(0,o.useMemo)((()=>{if(0===r.length)return[];const e=(m.search||"").toLowerCase();return r.filter((t=>{var r,s,n,i;return t.companyName&&t.companyName.toLowerCase().includes(e)||t.email&&t.email.toLowerCase().includes(e)||t.vatNumber&&t.vatNumber.toLowerCase().includes(e)||(null===(r=t.address)||void 0===r?void 0:r.street)&&t.address.street.toLowerCase().includes(e)||(null===(s=t.address)||void 0===s?void 0:s.city)&&t.address.city.toLowerCase().includes(e)||(null===(n=t.address)||void 0===n?void 0:n.zipCode)&&t.address.zipCode.toLowerCase().includes(e)||(null===(i=t.address)||void 0===i?void 0:i.country)&&t.address.country.toLowerCase().includes(e)||t.firstName&&t.firstName.toLowerCase().includes(e)||t.lastName&&t.lastName.toLowerCase().includes(e)||t.mobileNumber&&t.mobileNumber.toLowerCase().includes(e)})).sort(((e,t)=>"companyName"===j?"asc"===A?e.companyName.localeCompare(t.companyName):t.companyName.localeCompare(e.companyName):0))}),[r,m,A,j]);return(0,z.jsx)(W.Rl,{children:(0,z.jsxs)(I,{maxWidth:"lg",children:[h&&(0,z.jsx)(P.A,{message:h,type:"success"}),u?(0,z.jsx)(T.A,{}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(n.Ay,{container:!0,spacing:3,justifyContent:"space-between",alignItems:"center",children:[(0,z.jsxs)(n.Ay,{item:!0,xs:12,md:8,children:[(0,z.jsx)(i.A,{variant:"h4",children:e("ClientsListPageHeadTitle")}),(0,z.jsx)(i.A,{variant:"subtitle1",children:e("ClientsListPageHeadDesc")})]}),(0,z.jsx)(n.Ay,{item:!0,xs:12,md:4,display:"flex",justifyContent:"flex-end",children:(0,z.jsx)(a.A,{disabled:!(0,D.q)(t),variant:"contained",color:"primary",component:c.N_,to:(0,b.bw)().createClient,children:e("CreateNewClient")})})]}),(0,z.jsxs)(n.Ay,{container:!0,spacing:3,sx:{mt:2},children:[(0,z.jsx)(n.Ay,{item:!0,xs:12,children:(0,z.jsx)(R.A,{filters:m,filtersConfig:(0,b.qx)(),onFilterChange:(e,t)=>{p((r=>({...r,[e]:t})))}})}),(0,z.jsx)(n.Ay,{item:!0,xs:12,children:(0,z.jsx)(M,{clients:g,handleDeleteClients:async e=>{for(const t of e)await s([t]);d()},onSort:e=>{v(j===e&&"asc"===A?"desc":"asc"),f(e)},order:A,orderBy:j,searchTerm:m.search||""})})]})]})]})})}},3159:(e,t,r)=>{var s=r(4994);t.A=void 0;var n=s(r(39)),i=r(579);t.A=(0,n.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},7260:(e,t,r)=>{var s=r(4994);t.A=void 0;var n=s(r(39)),i=r(579);t.A=(0,n.default)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},8911:(e,t,r)=>{r.d(t,{A:()=>N});var s=r(8587),n=r(8168),i=r(5043),a=r(8387),o=r(835),l=r(2400),c=r(8606),d=r(6060),u=r(2900),m=r(8698),p=r(8280),h=r(9751),x=r(8604),A=r(579);const v=["component","direction","spacing","divider","children","className","useFlexGap"],j=(0,p.A)(),f=(0,d.A)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function g(e){return(0,u.A)({props:e,name:"MuiStack",defaultTheme:j})}function y(e,t){const r=i.Children.toArray(e).filter(Boolean);return r.reduce(((e,s,n)=>(e.push(s),n<r.length-1&&e.push(i.cloneElement(t,{key:`separator-${n}`})),e)),[])}const w=e=>{let{ownerState:t,theme:r}=e,s=(0,n.A)({display:"flex",flexDirection:"column"},(0,h.NI)({theme:r},(0,h.kW)({values:t.direction,breakpoints:r.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,x.LX)(r),n=Object.keys(r.breakpoints.values).reduce(((e,r)=>(("object"===typeof t.spacing&&null!=t.spacing[r]||"object"===typeof t.direction&&null!=t.direction[r])&&(e[r]=!0),e)),{}),i=(0,h.kW)({values:t.direction,base:n}),a=(0,h.kW)({values:t.spacing,base:n});"object"===typeof i&&Object.keys(i).forEach(((e,t,r)=>{if(!i[e]){const s=t>0?i[r[t-1]]:"column";i[e]=s}}));const l=(r,s)=>{return t.useFlexGap?{gap:(0,x._W)(e,r)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${n=s?i[s]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[n]}`]:(0,x._W)(e,r)}};var n};s=(0,o.A)(s,(0,h.NI)({theme:r},a,l))}return s=(0,h.iZ)(r.breakpoints,s),s};var C=r(4535),b=r(2876);const S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=f,useThemeProps:r=g,componentName:o="MuiStack"}=e,d=t(w),u=i.forwardRef((function(e,t){const i=r(e),u=(0,m.A)(i),{component:p="div",direction:h="column",spacing:x=0,divider:j,children:f,className:g,useFlexGap:w=!1}=u,C=(0,s.A)(u,v),b={direction:h,spacing:x,useFlexGap:w},S=(0,c.A)({root:["root"]},(e=>(0,l.Ay)(o,e)),{});return(0,A.jsx)(d,(0,n.A)({as:p,ownerState:b,ref:t,className:(0,a.A)(S.root,g)},C,{children:j?y(f,j):f}))}));return u}({createStyledComponent:(0,C.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,b.A)({props:e,name:"MuiStack"})}),N=S},8093:(e,t,r)=>{r.d(t,{A:()=>w});var s=r(8587),n=r(8168),i=r(8606),a=r(8387),o=r(5043),l=r(6236),c=r(9662),d=r(579);const u=(0,c.A)((0,d.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");var m=r(4535),p=r(2876),h=r(6803),x=r(7056),A=r(2400);function v(e){return(0,A.Ay)("MuiTableSortLabel",e)}const j=(0,x.A)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),f=["active","children","className","direction","hideSortIcon","IconComponent"],g=(0,m.Ay)(l.A,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.active&&t.active]}})((e=>{let{theme:t}=e;return{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":{color:(t.vars||t).palette.text.secondary,[`& .${j.icon}`]:{opacity:.5}},[`&.${j.active}`]:{color:(t.vars||t).palette.text.primary,[`& .${j.icon}`]:{opacity:1,color:(t.vars||t).palette.text.secondary}}}})),y=(0,m.Ay)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,t[`iconDirection${(0,h.A)(r.direction)}`]]}})((e=>{let{theme:t,ownerState:r}=e;return(0,n.A)({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none"},"desc"===r.direction&&{transform:"rotate(0deg)"},"asc"===r.direction&&{transform:"rotate(180deg)"})})),w=o.forwardRef((function(e,t){const r=(0,p.A)({props:e,name:"MuiTableSortLabel"}),{active:o=!1,children:l,className:c,direction:m="asc",hideSortIcon:x=!1,IconComponent:A=u}=r,j=(0,s.A)(r,f),w=(0,n.A)({},r,{active:o,direction:m,hideSortIcon:x,IconComponent:A}),C=(e=>{const{classes:t,direction:r,active:s}=e,n={root:["root",s&&"active"],icon:["icon",`iconDirection${(0,h.A)(r)}`]};return(0,i.A)(n,v,t)})(w);return(0,d.jsxs)(g,(0,n.A)({className:(0,a.A)(C.root,c),component:"span",disableRipple:!0,ownerState:w,ref:t},j,{children:[l,x&&!o?null:(0,d.jsx)(y,{as:A,className:(0,a.A)(C.icon),ownerState:w})]}))}))},8354:(e,t,r)=>{r.d(t,{A:()=>i});r(5043);var s=r(9662),n=r(579);const i=(0,s.A)((0,n.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage")},7884:(e,t,r)=>{r.d(t,{A:()=>i});r(5043);var s=r(9662),n=r(579);const i=(0,s.A)((0,n.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage")}}]);
//# sourceMappingURL=2.dffa5306.chunk.js.map