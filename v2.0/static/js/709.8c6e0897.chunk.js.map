{"version":3,"file":"static/js/709.8c6e0897.chunk.js","mappings":"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","sources":["../node_modules/@mui/material/ListItemAvatar/listItemAvatarClasses.js","../node_modules/@mui/material/ListItemAvatar/ListItemAvatar.js","components/ProductSearchModal/index.tsx","pages/product/create-product-page.tsx","../node_modules/@mui/icons-material/esm/ImportExport.js"],"sourcesContent":["import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getListItemAvatarUtilityClass(slot) {\n  return generateUtilityClass('MuiListItemAvatar', slot);\n}\nconst listItemAvatarClasses = generateUtilityClasses('MuiListItemAvatar', ['root', 'alignItemsFlexStart']);\nexport default listItemAvatarClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport ListContext from '../List/ListContext';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getListItemAvatarUtilityClass } from './listItemAvatarClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    alignItems,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', alignItems === 'flex-start' && 'alignItemsFlexStart']\n  };\n  return composeClasses(slots, getListItemAvatarUtilityClass, classes);\n};\nconst ListItemAvatarRoot = styled('div', {\n  name: 'MuiListItemAvatar',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.alignItems === 'flex-start' && styles.alignItemsFlexStart];\n  }\n})(({\n  ownerState\n}) => _extends({\n  minWidth: 56,\n  flexShrink: 0\n}, ownerState.alignItems === 'flex-start' && {\n  marginTop: 8\n}));\n\n/**\n * A simple wrapper to apply `List` styles to an `Avatar`.\n */\nconst ListItemAvatar = /*#__PURE__*/React.forwardRef(function ListItemAvatar(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListItemAvatar'\n  });\n  const {\n      className\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const context = React.useContext(ListContext);\n  const ownerState = _extends({}, props, {\n    alignItems: context.alignItems\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(ListItemAvatarRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemAvatar.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component, normally an `Avatar`.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListItemAvatar;","import React, { useState, useEffect } from 'react';\nimport { TextField, List, ListItem, ListItemText, ListItemAvatar, Avatar, Typography, Box } from '@mui/material';\nimport { ProductType } from '../../types';\nimport { useAppState } from '../../state/stateContext';\n\ninterface ProductSearchModalProps {\n    onClose: () => void;\n    onProductSelect: (product: ProductType) => void;\n    showAllByDefault: boolean;\n    products: ProductType[]; // Add this line\n}\n\nconst ProductSearchModal: React.FC<ProductSearchModalProps> = ({\n    onClose,\n    onProductSelect,\n    showAllByDefault,\n    products // Add this line\n}) => {\n    const [searchTerm, setSearchTerm] = useState('');\n    const [searchResults, setSearchResults] = useState<ProductType[]>([]);\n\n    useEffect(() => {\n        if (showAllByDefault) {\n            setSearchResults(products);\n        }\n    }, [products, showAllByDefault]);\n\n    useEffect(() => {\n    }, [searchResults]);\n\n    const handleSearch = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const term = event.target.value;\n        setSearchTerm(term);\n\n        if (term.trim() === '') {\n            setSearchResults(showAllByDefault ? products : []);\n        } else {\n            const filteredProducts = products.filter(product =>\n                product.name.toLowerCase().includes(term.toLowerCase())\n            );\n            setSearchResults(filteredProducts);\n        }\n    };\n\n    return (\n        <Box sx={{ display: 'flex', flexDirection: 'column', height: '100%' }}>\n            <Box sx={{ position: 'sticky', top: 0, backgroundColor: 'background.paper', zIndex: 1, p: 2 }}>\n                <TextField\n                    fullWidth\n                    variant=\"outlined\"\n                    placeholder=\"Search products...\"\n                    value={searchTerm}\n                    onChange={handleSearch}\n                />\n            </Box>\n            <Box sx={{ flexGrow: 1, overflow: 'auto', maxHeight: '60vh' }}>\n                {searchResults.length === 0 ? (\n                    <Typography sx={{ p: 2 }}>No products found</Typography>\n                ) : (\n                    <List>\n                        {searchResults.map((product) => (\n                            <ListItem\n                                key={product.id}\n                                button\n                                onClick={() => {\n                                    onProductSelect(product);\n                                    onClose();\n                                }}\n                            >\n                                <ListItemAvatar>\n                                    <Avatar src={product.imgUrl || undefined} alt={product.name}>\n                                        {product.name.charAt(0)}\n                                    </Avatar>\n                                </ListItemAvatar>\n                                <ListItemText primary={product.name} secondary={`Price: $${product.price}`} />\n                            </ListItem>\n                        ))}\n                    </List>\n                )}\n            </Box>\n        </Box>\n    );\n};\n\nexport default ProductSearchModal;","import * as Icons from '@mui/icons-material'; // Import all icons here\nimport { Button, Container, Dialog, DialogContent, DialogTitle, Grid, Typography } from \"@mui/material\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate } from 'react-router-dom';\nimport Loading from \"../../components/Loading/index.js\";\nimport ProductForm from \"../../components/ProductForm/index\";\nimport ProductSearchModal from \"../../components/ProductSearchModal\";\nimport { useFlashMessage } from \"../../state/FlashMessageContext\";\nimport { useAppState } from \"../../state/stateContext\";\nimport { ProductType } from \"../../types/index\";\nimport { WhitePaperContainer } from \"../documents/styled-components\";\n\nconst CreateProductPage: React.FC = () => {\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const { handleSaveProduct } = useAppState(); // Import handleSaveProduct from useAppState\n  const { showMessage } = useFlashMessage();\n  const { getProducts, products } = useAppState(); // Add this line to get the products from the app state\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [successMessage, setSuccessMessage] = useState<string | null>(null);\n  const [isSearchModalOpen, setIsSearchModalOpen] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState<ProductType | null>(null);\n\n  const [product, setProduct] = useState<ProductType>({\n    name: \"\",\n    description: \"\",\n    price: 0,\n    category: \"\",\n    company: \"\",\n    imgUrl: \"\",\n    components: [],\n    previewUrl: \"\",\n  });\n\n  useEffect(() => {\n    getProducts();\n  }, [])\n\n  const handleProductChange = useCallback((updatedFields: Partial<ProductType>) => {\n    setProduct((prev) => {\n      const updatedProduct = { ...prev, ...updatedFields };\n      return updatedProduct;\n    });\n  }, []);\n\n  const handleSave = async (productToSave: ProductType) => {\n    setLoading(true);\n    setError(null);\n    setSuccessMessage(null);\n    try {\n      const response = await handleSaveProduct(productToSave, false);\n      if (response?.product) {\n        navigate(`/product/${response?.product.id}?created=true`);\n      }\n    } catch (err) {\n      console.error(\"CreateProductPage: error saving product\", err);\n      setError(t('ErrorCreatingProduct'));\n      showMessage(`${err.message}`, 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleImportProduct = () => {\n    setIsSearchModalOpen(true);\n  };\n\n  const handleProductSelect = (selectedProduct: ProductType) => {\n    setSelectedProduct(selectedProduct);\n    setIsSearchModalOpen(false);\n    // Update the product state with the selected product\n    setProduct({\n      ...selectedProduct,\n      id: 0, // Reset the id for a new product\n      components: selectedProduct.components || [],\n    });\n  };\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <WhitePaperContainer>\n      <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n        <Grid container justifyContent=\"space-between\" alignItems=\"center\" sx={{ mb: 4 }}>\n          <Grid item>\n          <Typography variant=\"h4\" component=\"h1\">{t('CreateProduct')}</Typography>\n          </Grid>\n          <Grid item>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleImportProduct}\n              startIcon={<Icons.ImportExport />} // Add Import Icon\n            >\n              {t('ImportProduct')}\n            </Button>\n          </Grid>\n        </Grid>\n\n        <ProductForm\n          initialProduct={product}\n          onSave={handleSave}\n          loading={loading}\n          errorMessage={error}\n          successMessage={successMessage}\n        />\n\n        <Dialog\n          open={isSearchModalOpen}\n          onClose={() => setIsSearchModalOpen(false)}\n          maxWidth=\"md\"\n          fullWidth\n        >\n          <DialogTitle>{t('ImportProduct')}</DialogTitle>\n          <DialogContent>\n            <ProductSearchModal\n              onClose={() => setIsSearchModalOpen(false)}\n              onProductSelect={handleProductSelect}\n              showAllByDefault={true}\n              products={products}\n            />\n          </DialogContent>\n        </Dialog>\n      </Container>\n    </WhitePaperContainer>\n  );\n};\n\nexport default CreateProductPage;\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 3 5 6.99h3V14h2V6.99h3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99z\"\n}), 'ImportExport');"],"names":["getListItemAvatarUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","ListItemAvatarRoot","styled","name","overridesResolver","props","styles","ownerState","root","alignItems","alignItemsFlexStart","_ref","_extends","minWidth","flexShrink","marginTop","React","inProps","ref","useThemeProps","className","other","_objectWithoutPropertiesLoose","context","ListContext","classes","slots","composeClasses","useUtilityClasses","_jsx","clsx","onClose","onProductSelect","showAllByDefault","products","searchTerm","setSearchTerm","useState","searchResults","setSearchResults","useEffect","_jsxs","Box","sx","display","flexDirection","height","children","position","top","backgroundColor","zIndex","p","TextField","fullWidth","variant","placeholder","value","onChange","event","term","target","trim","filteredProducts","filter","product","toLowerCase","includes","flexGrow","overflow","maxHeight","length","Typography","List","map","ListItem","button","onClick","ListItemAvatar","Avatar","src","imgUrl","undefined","alt","charAt","ListItemText","primary","secondary","price","id","CreateProductPage","navigate","useNavigate","t","useTranslation","handleSaveProduct","useAppState","showMessage","useFlashMessage","getProducts","loading","setLoading","error","setError","successMessage","setSuccessMessage","isSearchModalOpen","setIsSearchModalOpen","selectedProduct","setSelectedProduct","setProduct","description","category","company","components","previewUrl","useCallback","updatedFields","prev","Loading","WhitePaperContainer","Container","maxWidth","py","Grid","container","justifyContent","mb","item","component","Button","color","handleImportProduct","startIcon","Icons","ProductForm","initialProduct","onSave","async","response","productToSave","err","console","message","errorMessage","Dialog","open","DialogTitle","DialogContent","ProductSearchModal","createSvgIcon","d"],"sourceRoot":""}