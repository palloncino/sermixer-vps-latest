"use strict";(self.webpackChunkquotation_app_02=self.webpackChunkquotation_app_02||[]).push([[982],{4982:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var n=r(9380),i=r(2177),o=r(1334),s=r(5865),a=r(6446),l=r(1637),d=r(7392),c=r(5043),h=r(4117),u=r(3216),x=r(279),p=r(1337),A=r(5473),v=r(5693),m=r(3140),y=r(579);const f=e=>{let{data:t,level:r=0}=e;const{t:n}=(0,h.Bd)(),[i,o]=(0,c.useState)({}),l=e=>{o((t=>({...t,[e]:!t[e]})))},u=(e,t)=>{const{name:r,price:n,quantity:i}=e;return(0,y.jsxs)(a.A,{sx:{ml:2,mb:1},children:[(0,y.jsx)(s.A,{variant:"body2",fontWeight:"bold",children:r||`Component ${t+1}`}),(0,y.jsx)(s.A,{variant:"body2",children:`Price: ${(0,v.$)(n)}`}),(0,y.jsx)(s.A,{variant:"body2",children:`Quantity: ${i}`})]},t)},j=e=>(0,y.jsx)(a.A,{children:e.map(((e,t)=>e.name?((e,t)=>{const{name:r,price:o,components:d=[],discount:c=0,createdAt:h,updatedAt:f}=e,j=o-o*c/100;return(0,y.jsxs)(a.A,{sx:{mb:2},children:[(0,y.jsxs)(s.A,{variant:"h6",fontWeight:"bold",onClick:()=>l(r||`Product ${t+1}`),children:[r||`Product ${t+1}`," ",i[r||`Product ${t+1}`]?(0,y.jsx)(A.A,{}):(0,y.jsx)(p.A,{})]}),(0,y.jsx)(x.A,{in:i[r||`Product ${t+1}`],children:(0,y.jsxs)(a.A,{ml:2,children:[(0,y.jsxs)(s.A,{variant:"body2",children:[`Price: ${(0,v.$)(o)} `,c>0&&(0,y.jsx)("span",{style:{textDecoration:"line-through",marginRight:"8px"},children:(0,v.$)(j)})]}),(0,y.jsx)(s.A,{variant:"body2",children:`Category: ${e.category}`}),(0,y.jsx)(s.A,{variant:"body2",children:`Description: ${e.description||"No description"}`}),(0,y.jsx)(s.A,{variant:"body2",children:`Company: ${e.company||"Unknown"}`}),(0,y.jsx)(s.A,{variant:"body2",children:`Created At: ${h?(0,m.M)(h):"N/A"}`}),(0,y.jsx)(s.A,{variant:"body2",children:`Updated At: ${f?(0,m.M)(f):"N/A"}`}),d.length>0&&(0,y.jsxs)(a.A,{mt:2,children:[(0,y.jsx)(s.A,{variant:"subtitle2",fontWeight:"bold",children:n("Components")}),d.filter((e=>e.included)).map(((e,t)=>u(e,t)))]})]})})]},t)})(e,t):(0,y.jsx)(f,{data:e,level:r+1},t)))}),g=(e,t)=>null===t||void 0===t?(0,y.jsx)(s.A,{variant:"body2",color:"text.secondary",children:"Not set"}):"boolean"===typeof t?(0,y.jsx)(s.A,{variant:"body2",children:t?"Yes":"No"}):"number"===typeof t?(0,y.jsx)(s.A,{variant:"body2",children:(0,v.$)(t)}):"string"===typeof t?(0,y.jsx)(s.A,{variant:"body2",children:t}):Array.isArray(t)?j(t):"object"===typeof t?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(d.A,{size:"small",onClick:()=>l(e),children:i[e]?(0,y.jsx)(A.A,{}):(0,y.jsx)(p.A,{})}),(0,y.jsx)(x.A,{in:i[e],children:(0,y.jsx)(a.A,{ml:2,children:(0,y.jsx)(f,{data:t,level:r+1})})})]}):(0,y.jsx)(s.A,{variant:"body2",children:String(t)});return t&&0!==Object.keys(t).length?(0,y.jsx)(a.A,{sx:{mb:2},children:Object.entries(t).map(((e,r)=>{let[n,i]=e;return(0,y.jsxs)(a.A,{sx:{display:"flex",borderBottom:r<Object.entries(t).length-1?"1px solid #e0e0e0":"none",py:1},children:[(0,y.jsx)(a.A,{sx:{flexBasis:"30%",pr:2},children:(0,y.jsx)(s.A,{variant:"subtitle2",fontWeight:"medium",children:n})}),(0,y.jsx)(a.A,{sx:{flexBasis:"70%"},children:g(n,i)})]},n)}))}):(0,y.jsx)(s.A,{variant:"body2",color:"text.secondary",children:n("NoResult")})},j=e=>{let{products:t}=e;const{t:r}=(0,h.Bd)(),n=(e,t)=>{const{name:n,price:i,discount:o=0,category:l,description:d,company:c,components:h=[],createdAt:u,updatedAt:x}=e,p=i-i*o/100;return(0,y.jsxs)(a.A,{sx:{mb:3,borderBottom:"1px solid #e0e0e0",pb:2},children:[(0,y.jsx)(s.A,{variant:"h6",fontWeight:"bold",children:n}),(0,y.jsx)(s.A,{variant:"body2",children:`Price: ${(0,v.$)(i)}`}),o>0&&(0,y.jsx)(s.A,{variant:"body2",color:"text.secondary",children:`Discounted Price: ${(0,v.$)(p)}`}),(0,y.jsx)(s.A,{variant:"body2",children:`Category: ${l}`}),(0,y.jsx)(s.A,{variant:"body2",children:`Description: ${d||r("NoDescriptionAvailable")}`}),(0,y.jsx)(s.A,{variant:"body2",children:`Company: ${c||"Unknown"}`}),(0,y.jsx)(s.A,{variant:"body2",children:`Created At: ${(0,m.M)(u)}`}),(0,y.jsx)(s.A,{variant:"body2",children:`Updated At: ${(0,m.M)(x)}`}),h.length>0&&(0,y.jsxs)(a.A,{mt:2,children:[(0,y.jsxs)(s.A,{variant:"subtitle2",fontWeight:"bold",children:[r("Components"),":"]}),h.map(((e,t)=>((e,t)=>{const{name:r,price:n,quantity:i,included:o}=e;return o?(0,y.jsxs)(a.A,{sx:{ml:3,mb:1},children:[(0,y.jsxs)(s.A,{variant:"body2",fontWeight:"bold",children:[r," (x",i,")"]}),(0,y.jsx)(s.A,{variant:"body2",children:`Price: ${(0,v.$)(n)}`})]},t):null})(e,t)))]})]},t)};return(0,y.jsx)(a.A,{sx:{mt:2},children:t.map(((e,t)=>n(e,t)))})};var g=r(2698),b=r(3505);const w=()=>{const{t:e}=(0,h.Bd)(),{hash:t}=(0,u.g)(),{getDocument:r}=(0,g.u)(),[x,p]=(0,c.useState)(null),[A,v]=(0,c.useState)(!0),[m,w]=(0,c.useState)(null),[$,k]=(0,c.useState)("details");(0,c.useEffect)((()=>{(async()=>{try{const e=await r(t);p(e)}catch(n){w(e("Error loading document")),console.error(n)}finally{v(!1)}})()}),[t,r,e]);const S=e=>{k(e)};return A?(0,y.jsx)(b.Rl,{children:(0,y.jsx)(a.A,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,y.jsx)(l.A,{})})}):m?(0,y.jsx)(b.Rl,{children:(0,y.jsx)(s.A,{color:"error",children:m})}):(0,y.jsxs)(b.Rl,{children:[(0,y.jsxs)(a.A,{display:"flex",alignItems:"center",justifyContent:"flex-start",p:2,overflow:"auto",children:[(0,y.jsx)(d.A,{onClick:()=>S("details"),sx:{borderRadius:2,p:1,mr:1,transition:"background-color 0.3s","&:hover":{backgroundColor:"#f0f0f0"}},children:(0,y.jsx)(n.A,{})}),(0,y.jsxs)(d.A,{onClick:()=>S("client"),sx:{borderRadius:2,p:1,mr:1,transition:"background-color 0.3s","&:hover":{backgroundColor:"#f0f0f0"}},children:[(0,y.jsx)(i.A,{}),(0,y.jsx)(s.A,{noWrap:!0,sx:{ml:1,overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100px"},children:e("Client Information")})]}),(0,y.jsxs)(d.A,{onClick:()=>S("products"),sx:{borderRadius:2,p:1,mr:1,transition:"background-color 0.3s","&:hover":{backgroundColor:"#f0f0f0"}},children:[(0,y.jsx)(o.A,{}),(0,y.jsx)(s.A,{noWrap:!0,sx:{ml:1,overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100px"},children:e("Products")})]})]}),(0,y.jsxs)(a.A,{flexGrow:1,p:3,children:[(0,y.jsx)(s.A,{variant:"h4",gutterBottom:!0,children:e("Document Details")}),(()=>{var t,r,n;if(!x)return null;switch($){case"details":return(0,y.jsx)(f,{data:null===(t=x.data)||void 0===t?void 0:t.quoteHeadDetails});case"client":return(0,y.jsx)(f,{data:null===(r=x.data)||void 0===r?void 0:r.selectedClient});case"products":return(0,y.jsx)(j,{products:null===(n=x.data)||void 0===n?void 0:n.addedProducts});default:return(0,y.jsx)(s.A,{children:e("No data available")})}})()]})]})}},5693:(e,t,r)=>{r.d(t,{$:()=>n});const n=e=>Number(e).toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")},9380:(e,t,r)=>{var n=r(4994);t.A=void 0;var i=n(r(39)),o=r(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description")},5473:(e,t,r)=>{var n=r(4994);t.A=void 0;var i=n(r(39)),o=r(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess")},1337:(e,t,r)=>{var n=r(4994);t.A=void 0;var i=n(r(39)),o=r(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},2177:(e,t,r)=>{var n=r(4994);t.A=void 0;var i=n(r(39)),o=r(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},1334:(e,t,r)=>{var n=r(4994);t.A=void 0;var i=n(r(39)),o=r(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"}),"ShoppingCart")},1637:(e,t,r)=>{r.d(t,{A:()=>E});var n=r(8587),i=r(8168),o=r(5043),s=r(8387),a=r(8606),l=r(3290),d=r(6803),c=r(2876),h=r(4535),u=r(7056),x=r(2400);function p(e){return(0,x.Ay)("MuiCircularProgress",e)}(0,u.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var A=r(579);const v=["className","color","disableShrink","size","style","thickness","value","variant"];let m,y,f,j,g=e=>e;const b=44,w=(0,l.i7)(m||(m=g`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),$=(0,l.i7)(y||(y=g`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),k=(0,h.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${(0,d.A)(r.color)}`]]}})((e=>{let{ownerState:t,theme:r}=e;return(0,i.A)({display:"inline-block"},"determinate"===t.variant&&{transition:r.transitions.create("transform")},"inherit"!==t.color&&{color:(r.vars||r).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,l.AH)(f||(f=g`
      animation: ${0} 1.4s linear infinite;
    `),w)})),S=(0,h.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),C=(0,h.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${(0,d.A)(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:r}=e;return(0,i.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,l.AH)(j||(j=g`
      animation: ${0} 1.4s ease-in-out infinite;
    `),$)})),E=o.forwardRef((function(e,t){const r=(0,c.A)({props:e,name:"MuiCircularProgress"}),{className:o,color:l="primary",disableShrink:h=!1,size:u=40,style:x,thickness:m=3.6,value:y=0,variant:f="indeterminate"}=r,j=(0,n.A)(r,v),g=(0,i.A)({},r,{color:l,disableShrink:h,size:u,thickness:m,value:y,variant:f}),w=(e=>{const{classes:t,variant:r,color:n,disableShrink:i}=e,o={root:["root",r,`color${(0,d.A)(n)}`],svg:["svg"],circle:["circle",`circle${(0,d.A)(r)}`,i&&"circleDisableShrink"]};return(0,a.A)(o,p,t)})(g),$={},E={},D={};if("determinate"===f){const e=2*Math.PI*((b-m)/2);$.strokeDasharray=e.toFixed(3),D["aria-valuenow"]=Math.round(y),$.strokeDashoffset=`${((100-y)/100*e).toFixed(3)}px`,E.transform="rotate(-90deg)"}return(0,A.jsx)(k,(0,i.A)({className:(0,s.A)(w.root,o),style:(0,i.A)({width:u,height:u},E,x),ownerState:g,ref:t,role:"progressbar"},D,j,{children:(0,A.jsx)(S,{className:w.svg,ownerState:g,viewBox:"22 22 44 44",children:(0,A.jsx)(C,{className:w.circle,style:$,ownerState:g,cx:b,cy:b,r:(b-m)/2,fill:"none",strokeWidth:m})})}))}))},279:(e,t,r)=>{r.d(t,{A:()=>k});var n=r(8587),i=r(8168),o=r(5043),s=r(8387),a=r(9998),l=r(1140),d=r(8606),c=r(4535),h=r(2876),u=r(4318),x=r(653),p=r(6240),A=r(5849),v=r(7056),m=r(2400);function y(e){return(0,m.Ay)("MuiCollapse",e)}(0,v.A)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var f=r(579);const j=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],g=(0,c.Ay)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],"entered"===r.state&&t.entered,"exited"===r.state&&!r.in&&"0px"===r.collapsedSize&&t.hidden]}})((e=>{let{theme:t,ownerState:r}=e;return(0,i.A)({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===r.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===r.state&&(0,i.A)({height:"auto",overflow:"visible"},"horizontal"===r.orientation&&{width:"auto"}),"exited"===r.state&&!r.in&&"0px"===r.collapsedSize&&{visibility:"hidden"})})),b=(0,c.Ay)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})((e=>{let{ownerState:t}=e;return(0,i.A)({display:"flex",width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),w=(0,c.Ay)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})((e=>{let{ownerState:t}=e;return(0,i.A)({width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),$=o.forwardRef((function(e,t){const r=(0,h.A)({props:e,name:"MuiCollapse"}),{addEndListener:c,children:v,className:m,collapsedSize:$="0px",component:k,easing:S,in:C,onEnter:E,onEntered:D,onEntering:M,onExit:z,onExited:R,onExiting:P,orientation:N="vertical",style:W,timeout:H=u.p0.standard,TransitionComponent:I=a.Ay}=r,B=(0,n.A)(r,j),L=(0,i.A)({},r,{orientation:N,collapsedSize:$}),F=(e=>{const{orientation:t,classes:r}=e,n={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return(0,d.A)(n,y,r)})(L),q=(0,p.A)(),O=(0,l.A)(),T=o.useRef(null),U=o.useRef(),_="number"===typeof $?`${$}px`:$,V="horizontal"===N,G=V?"width":"height",Q=o.useRef(null),Y=(0,A.A)(t,Q),J=e=>t=>{if(e){const r=Q.current;void 0===t?e(r):e(r,t)}},K=()=>T.current?T.current[V?"clientWidth":"clientHeight"]:0,X=J(((e,t)=>{T.current&&V&&(T.current.style.position="absolute"),e.style[G]=_,E&&E(e,t)})),Z=J(((e,t)=>{const r=K();T.current&&V&&(T.current.style.position="");const{duration:n,easing:i}=(0,x.c)({style:W,timeout:H,easing:S},{mode:"enter"});if("auto"===H){const t=q.transitions.getAutoHeightDuration(r);e.style.transitionDuration=`${t}ms`,U.current=t}else e.style.transitionDuration="string"===typeof n?n:`${n}ms`;e.style[G]=`${r}px`,e.style.transitionTimingFunction=i,M&&M(e,t)})),ee=J(((e,t)=>{e.style[G]="auto",D&&D(e,t)})),te=J((e=>{e.style[G]=`${K()}px`,z&&z(e)})),re=J(R),ne=J((e=>{const t=K(),{duration:r,easing:n}=(0,x.c)({style:W,timeout:H,easing:S},{mode:"exit"});if("auto"===H){const r=q.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${r}ms`,U.current=r}else e.style.transitionDuration="string"===typeof r?r:`${r}ms`;e.style[G]=_,e.style.transitionTimingFunction=n,P&&P(e)}));return(0,f.jsx)(I,(0,i.A)({in:C,onEnter:X,onEntered:ee,onEntering:Z,onExit:te,onExited:re,onExiting:ne,addEndListener:e=>{"auto"===H&&O.start(U.current||0,e),c&&c(Q.current,e)},nodeRef:Q,timeout:"auto"===H?null:H},B,{children:(e,t)=>(0,f.jsx)(g,(0,i.A)({as:k,className:(0,s.A)(F.root,m,{entered:F.entered,exited:!C&&"0px"===_&&F.hidden}[e]),style:(0,i.A)({[V?"minWidth":"minHeight"]:_},W),ref:Y},t,{ownerState:(0,i.A)({},L,{state:e}),children:(0,f.jsx)(b,{ownerState:(0,i.A)({},L,{state:e}),className:F.wrapper,ref:T,children:(0,f.jsx)(w,{ownerState:(0,i.A)({},L,{state:e}),className:F.wrapperInner,children:v})})}))}))}));$.muiSupportAuto=!0;const k=$}}]);
//# sourceMappingURL=982.3bdd1031.chunk.js.map