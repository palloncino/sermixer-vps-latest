"use strict";(self.webpackChunkquotation_app_02=self.webpackChunkquotation_app_02||[]).push([[709],{9709:(e,t,r)=>{r.r(t),r.d(t,{default:()=>F});var s=r(259),o=r(9252),n=r(8903),a=r(5865),l=r(1906),c=r(35),i=r(6600),u=r(5316),d=r(5043),h=r(4117),m=r(3216),p=r(7206),x=r(1280),A=r(6446),f=r(5795),g=r(5721),v=r(1322),j=r(8587),y=r(8168),S=r(8387),I=r(8606),C=r(1347),w=r(4535),P=r(2876),k=r(7056),b=r(2400);function M(e){return(0,b.Ay)("MuiListItemAvatar",e)}(0,k.A)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var L=r(579);const E=["className"],W=(0,w.Ay)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"flex-start"===r.alignItems&&t.alignItemsFlexStart]}})((e=>{let{ownerState:t}=e;return(0,y.A)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})})),N=d.forwardRef((function(e,t){const r=(0,P.A)({props:e,name:"MuiListItemAvatar"}),{className:s}=r,o=(0,j.A)(r,E),n=d.useContext(C.A),a=(0,y.A)({},r,{alignItems:n.alignItems}),l=(e=>{const{alignItems:t,classes:r}=e,s={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,I.A)(s,M,r)})(a);return(0,L.jsx)(W,(0,y.A)({className:(0,S.A)(l.root,s),ownerState:a,ref:t},o))}));var R=r(1045),$=r(8734);const _=e=>{let{onClose:t,onProductSelect:r,showAllByDefault:s,products:o}=e;const[n,l]=(0,d.useState)(""),[c,i]=(0,d.useState)([]);(0,d.useEffect)((()=>{s&&i(o)}),[o,s]),(0,d.useEffect)((()=>{}),[c]);return(0,L.jsxs)(A.A,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,L.jsx)(A.A,{sx:{position:"sticky",top:0,backgroundColor:"background.paper",zIndex:1,p:2},children:(0,L.jsx)(f.A,{fullWidth:!0,variant:"outlined",placeholder:"Search products...",value:n,onChange:e=>{const t=e.target.value;if(l(t),""===t.trim())i(s?o:[]);else{const e=o.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())));i(e)}}})}),(0,L.jsx)(A.A,{sx:{flexGrow:1,overflow:"auto",maxHeight:"60vh"},children:0===c.length?(0,L.jsx)(a.A,{sx:{p:2},children:"No products found"}):(0,L.jsx)(g.A,{children:c.map((e=>(0,L.jsxs)(v.Ay,{button:!0,onClick:()=>{r(e),t()},children:[(0,L.jsx)(N,{children:(0,L.jsx)(R.A,{src:e.imgUrl||void 0,alt:e.name,children:e.name.charAt(0)})}),(0,L.jsx)($.A,{primary:e.name,secondary:`Price: $${e.price}`})]},e.id)))})})]})};var z=r(4588),B=r(1748),D=r(3505);const F=()=>{const e=(0,m.Zp)(),{t:t}=(0,h.Bd)(),{handleSaveProduct:r}=(0,B.A)(),{showMessage:A}=(0,z.J)(),{getProducts:f,products:g}=(0,B.A)(),[v,j]=(0,d.useState)(!1),[y,S]=(0,d.useState)(null),[I,C]=(0,d.useState)(null),[w,P]=(0,d.useState)(!1),[k,b]=(0,d.useState)(null),[M,E]=(0,d.useState)({name:"",description:"",price:0,category:"",company:"",imgUrl:"",components:[],previewUrl:""});(0,d.useEffect)((()=>{f()}),[]);(0,d.useCallback)((e=>{E((t=>({...t,...e})))}),[]);return v?(0,L.jsx)(p.A,{}):(0,L.jsx)(D.Rl,{children:(0,L.jsxs)(o.A,{maxWidth:"lg",sx:{py:4},children:[(0,L.jsxs)(n.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",sx:{mb:4},children:[(0,L.jsx)(n.Ay,{item:!0,children:(0,L.jsx)(a.A,{variant:"h4",component:"h1",children:t("CreateProduct")})}),(0,L.jsx)(n.Ay,{item:!0,children:(0,L.jsx)(l.A,{variant:"contained",color:"primary",onClick:()=>{P(!0)},startIcon:(0,L.jsx)(s.A,{}),children:t("ImportProduct")})})]}),(0,L.jsx)(x.A,{initialProduct:M,onSave:async s=>{j(!0),S(null),C(null);try{const t=await r(s,!1);null!==t&&void 0!==t&&t.product&&e(`/product/${null===t||void 0===t?void 0:t.product.id}?created=true`)}catch(o){console.error("CreateProductPage: error saving product",o),S(t("ErrorCreatingProduct")),A(`${o.message}`,"error")}finally{j(!1)}},loading:v,errorMessage:y,successMessage:I}),(0,L.jsxs)(c.A,{open:w,onClose:()=>P(!1),maxWidth:"md",fullWidth:!0,children:[(0,L.jsx)(i.A,{children:t("ImportProduct")}),(0,L.jsx)(u.A,{children:(0,L.jsx)(_,{onClose:()=>P(!1),onProductSelect:e=>{b(e),P(!1),E({...e,id:0,components:e.components||[]})},showAllByDefault:!0,products:g})})]})]})})}},259:(e,t,r)=>{r.d(t,{A:()=>n});var s=r(9662),o=r(579);const n=(0,s.A)((0,o.jsx)("path",{d:"M9 3 5 6.99h3V14h2V6.99h3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99z"}),"ImportExport")}}]);
//# sourceMappingURL=709.8c6e0897.chunk.js.map